<!DOCTYPE html>
<html lang="zh-CN">
<!-- 
    你好~ 欢迎来到我的乐园。下面就简单介绍下我的 body 部分。
    body 标签，主要是由加载 loading 与应用 app 所组成。
        - loading 加载页面。顾名思义，这里不做详细叙述。
        - app 中，分为头部部分 header、封面部分 cover、主体部分 main 和尾部部分 footer。
            - header、cover、footer 你可以分别在页面最上方，页面的中上方、页面的最下方找到。
                > 文章页找不到 cover、主页找不到 header 与 cover...还有什么页找不到什么？
            - main 中，有初始/列表页、文章页、主页、搜索页、友链页，错误页。
                - 初始/列表页在进入网站后即可看见。
                - 文章页需要点击文章后进入。
                - 让你有搜索内容需求时，可以进入搜索页。
                - 与其他人的交互，则尽在友链页。
                - 另外，我还新创建了主页，欢迎观看。
                - 最后，当你进入了不存在的页面时，就会出现错误页。
    祝你阅读愉快！ 
-->
<head>
    <title>『SQL Server』第六章  数据库及其对象.md | 锦鲤未离</title>
    <meta name="keywords" content="SqlServer">
    <meta charset="utf-8">
    <meta name="renderer" content="webkit">
    <meta name="copyright" content="Koi_NL">
    <meta name="generator" content="Hexo 6.1.0">
    <meta name="HandheldFriendly" content="True">
    <meta name="force-rendering" content="webkit">
    <meta name="author" content="Koi_NL,1099771017@qq.com"> 
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="mask-icon" href="/img/icon.png">
    <link rel="shortcut icon" href="/img/icon.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/img/icon.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/img/icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/img/icon.png">
    <link rel="canonical" href="http://example.com/posts/sqlserver06/">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/dark.css">
    <link rel="stylesheet" id="hl-default-theme" href="/css/hlight-main.css" media="none">
    <link rel="stylesheet" id="hl-dark-theme" href="/css/hlight-dark.css" media="none">
    
    <script type="text/javascript" src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
</head>

<body>
    <div class="loading"><span></span><span></span><span></span><span></span><span></span></div>
    <script>document.onreadystatechange=function(){console.log(document.readyState);if(document.readyState=="complete"){$(".loading").fadeOut();}}</script>

    <div id="app">
<header class="header">
    <div class="header__left"><a href="/" class="button" title="回到首页">
            <svg t="1662257077921" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="9718" width="27" height="27">
                <path
        d="M1017.295381 515.625294c-8.918711 9.05797-23.377057 9.05797-32.295768 0L755.083237 303.3395c-1.513416-1.206227-2.807704-2.525091-3.989357-4.056938l-89.551638-90.944226c-1.513416-1.200084-2.807704-2.512803-3.989357-4.050794L512.000756 56.462215 38.999851 515.625294c-8.918711 9.05797-23.377057 9.05797-32.29372 0-8.918711-9.05797-8.918711-23.73954 0-32.797509L493.065647 10.095158c0.77002-1.130454 1.234898-2.394024 2.224046-3.405698 4.603734-4.677459 10.67583-6.829828 16.711063-6.682377 6.033185-0.147451 12.105281 2.004918 16.709015 6.682377 0.989147 1.011675 1.454026 2.275244 2.224046 3.405698l121.376383 123.262521L652.3102 71.16836c0 0-0.002048 0-0.002048-0.006144 0-13.114908 10.471037-23.751827 23.385249-23.751827l93.538947 0c6.459154 0 12.305978 2.660254 16.536989 6.952703 4.23306 4.298593 6.850307 10.24167 6.850307 16.799124l0 204.700282 224.675737 206.965287C1026.212043 491.885755 1026.212043 506.567325 1017.295381 515.625294zM745.851194 94.907899l-46.770497 0 0 85.959578 46.770497 47.491367L745.851194 94.907899zM163.72459 474.910509c12.916259 0 23.385249 10.630776 23.385249 23.745683l0 430.348784c0 26.235959 20.940027 47.49751 46.770497 47.49751l161.196225 0-0.002048 0L395.074513 688.656474c0-13.121052 10.471037-23.751827 23.385249-23.751827l187.079941 0c12.916259 0 23.385249 10.630776 23.385249 23.751827l0 287.846013-0.002048 0 161.196225 0c25.83047 0 46.768449-21.261551 46.768449-47.49751l-0.002048-430.348784c0-13.114908 10.468989-23.745683 23.385249-23.745683 12.914211 0 23.385249 10.630776 23.385249 23.745683l0 430.348784c0 52.469871-41.878006 94.995021-93.538947 94.995021L233.880336 1023.999997c-51.660941 0-93.538947-42.52515-93.538947-94.995021L140.34139 498.656193C140.34139 485.541285 150.810379 474.910509 163.72459 474.910509zM582.154454 976.502487l0-264.100329-140.309444 0 0 264.100329-0.002048 0L582.154454 976.502487 582.154454 976.502487z"
        p-id="44080" fill="#999"></path>
            </svg>
        </a></div>
    <div class="header__right">
        <form class="Skip_nav_card" type="submit" name="search_formpage">
            <input class="Skip_input" placeholder="输入" required name='search_SkipPage' value='' onKeyDown='if(event.keyCode==13)event.returnValue=false'>
            <input class="Text_skip_button" name='submitSkip' type='button' onClick='Go_Page_search()' value='前往'>
        </form>
        <script language=javascript> function Go_Page_search() { var Custom_path = 'https://koinl.github.io/page_search/?s='; if (document.search_formpage.search_SkipPage.value == 1) { window.location.href = Custom_path; } else { window.location.href = Custom_path + document.search_formpage.search_SkipPage.value; } }</script>
        <a href="javaScript:void(0);" id="btn-toggle-dark" title="夜间模式">
            <svg t="1662256981531" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="8697" width="30" height="30">
                <path d="M89.85 197.55m-26.03 0a26.03 26.03 0 1 0 52.06 0 26.03 26.03 0 1 0-52.06 0Z" fill="#999"
                    opacity=".8" p-id="34043"></path>
                <path d="M135.4 99.52m-26.03 0a26.03 26.03 0 1 0 52.06 0 26.03 26.03 0 1 0-52.06 0Z" fill="#999"
                    opacity=".8" p-id="34044"></path>
                <path d="M934.15 145.07m-26.03 0a26.03 26.03 0 1 0 52.06 0 26.03 26.03 0 1 0-52.06 0Z" fill="#999"
                    opacity=".8" p-id="34045"></path>
                <path d="M612.93 189.8V194.82h0.51c2.42 15.26 15.54 26.96 31.48 26.96h196.21c15.94 0 29.05-11.7 31.48-26.96h0.5v-15.45c0-17.67-14.31-31.98-31.98-31.98H644.91c-17.66 0-31.99 14.32-31.99 31.98v10.43zM619.43 411.04V416.06h0.51c2.42 15.26 15.54 26.96 31.48 26.96h196.21c15.94 0 29.05-11.7 31.48-26.96h0.5v-15.45c0-17.67-14.31-31.98-31.98-31.98H651.42c-17.66 0-31.99 14.32-31.99 31.98v10.43z"
                    fill="#999" opacity=".8" p-id="34046"></path>
                <path d="M632.26 430.79c0.01 0 0.01 0.01 0.03 0.02l3.25 3.78 0.39-0.33c11.79 10 29.36 10.31 41.45-0.09l178.53-217.51c12.09-10.39 14.4-27.81 6.28-40.97l0.38-0.32-3.27-3.81-5.83-6.77-0.97-1.13c-11.52-13.4-31.7-14.91-45.1-3.39L628.86 377.78c-13.39 11.51-14.91 31.72-3.39 45.11l0.97 1.13 5.82 6.77z"
                    fill="#999" opacity=".8" p-id="34047"></path>
                <path d="M511.94 950.5c-233.06 0-422.66-189.65-422.66-422.75 0-190.41 128.42-358.05 312.31-407.65 13.22-3.52 27.25 1.33 35.41 12.34 8.14 11.01 8.71 25.88 1.42 37.47-31.43 50.03-48.04 107.45-48.04 166.05 0 172.59 140.48 313.02 313.17 313.02 58.73 0 116.22-16.67 166.28-48.23a33.279 33.279 0 0 1 37.49 1.37 33.281 33.281 0 0 1 12.37 35.4C870.16 821.8 702.49 950.5 511.94 950.5zM344.17 213.93C230.3 274.77 155.8 394.66 155.8 527.76c0 196.42 159.76 356.22 356.13 356.22 133.25 0 253.21-74.72 314-188.92a376.765 376.765 0 0 1-122.39 20.44c-209.36 0-379.7-170.26-379.7-379.53 0.01-41.53 6.87-82.76 20.33-122.04z m0 0"
                    fill="#999" opacity=".8" p-id="34048"></path>
            </svg>
        </a>
    </div>
    <script>(() => { const rootElement = document.documentElement; const darkModeStorageKey = 'user-color-scheme'; const darkModeMediaQueryKey = '--color-mode'; const rootElementDarkModeAttributeName = 'data-user-color-scheme'; const setLS = (k, v) => { try { localStorage.setItem(k, v); } catch (e) { } }; const removeLS = (k) => { try { localStorage.removeItem(k); } catch (e) { } }; const getLS = (k) => { try { return localStorage.getItem(k); } catch (e) { return null; } }; const getModeFromCSSMediaQuery = () => { const res = getComputedStyle(rootElement).getPropertyValue(darkModeMediaQueryKey); if (res.length) return res.replace(/["'\s]/g, ''); return res === 'dark' ? 'dark' : 'light'; }; const resetRootDarkModeAttributeAndLS = () => { rootElement.removeAttribute(rootElementDarkModeAttributeName); removeLS(darkModeStorageKey); }; const validColorModeKeys = { dark: true, light: true, }; const applyCustomDarkModeSettings = (mode) => { const currentSetting = mode || getLS(darkModeStorageKey); if (document.getElementById('hl-dark-theme')) { if (validColorModeKeys[currentSetting]) { if (currentSetting === 'dark') { document.getElementById('hl-default-theme').media = 'none'; document.getElementById('hl-dark-theme').media = 'all'; } else { document.getElementById('hl-dark-theme').media = 'none'; document.getElementById('hl-default-theme').media = 'all'; } } else { if (getModeFromCSSMediaQuery() === 'dark') { document.getElementById('hl-default-theme').media = 'none'; document.getElementById('hl-dark-theme').media = 'all'; } else { document.getElementById('hl-dark-theme').media = 'none'; document.getElementById('hl-default-theme').media = 'all'; } } } else if (document.getElementById('hl-default-theme')) { document.getElementById('hl-default-theme').media = 'all'; } if (currentSetting === getModeFromCSSMediaQuery()) { resetRootDarkModeAttributeAndLS(); } else if (validColorModeKeys[currentSetting]) { rootElement.setAttribute(rootElementDarkModeAttributeName, currentSetting); } else { resetRootDarkModeAttributeAndLS(); } }; const invertDarkModeObj = { dark: 'light', light: 'dark', }; const toggleCustomDarkMode = () => { var currentSetting = getLS(darkModeStorageKey); if (validColorModeKeys[currentSetting]) { currentSetting = invertDarkModeObj[currentSetting]; } else if (currentSetting === null) { currentSetting = invertDarkModeObj[getModeFromCSSMediaQuery()]; } else { return; } setLS(darkModeStorageKey, currentSetting); return currentSetting; }; applyCustomDarkModeSettings(); window.onload = () => { const darkModeToggleBottonElement = document.getElementById('btn-toggle-dark'); darkModeToggleBottonElement.addEventListener('click', () => { applyCustomDarkModeSettings(toggleCustomDarkMode()); }); }; })();</script>
</header>


        <div class="cover">
            <div class="cover__logo">
                <div class="carousel" id="carousel_main">
                    <ul id="div_img">
                        <li class="every_img"><img src="/img/cover/LunBoTu/home_welcome.jpg" id="link_img" onClick="link('https://koinl.github.io/page_home/', '_self')" alt="" title="" /></li>
                        <li class="every_img"><img src="/img/cover/LunBoTu/Picture_APP_By_KoiNL.jpg" id="link_img" onClick="link('https://koinl.github.io/apk/APP_By_KoiNL.apk', '_self')" alt="" title="" /></li>
                        <li class="every_img"><img src="/img/cover/LunBoTu/new_blog_theme.jpg" id="link_img" onClick="link('https://koinl.github.io/', '_self')" alt="" title="" /></li>
                        <li class="every_img"><img src="/img/test/test4.jpg" id="link_img" onClick="link('https://www.qidian.com/', '_self')" alt="" title="" /></li>
                        <li class="every_img"><img src="/img/test/test5.jpg" id="link_img" onClick="link('https://www.csdn.net/', '_self')" alt="" title="" /></li>
                    </ul>
                    <ul class="div_circle"><li class = every_circle></li><li class = every_circle></li><li class = every_circle></li><li class = every_circle></li><li class = every_circle></li></ul>
                    <div class="btn left"><p class="btn_p">《&nbsp</p></div><div class="btn right"><p class="btn_p">&nbsp》</p></div>
                </div><script type="text/javascript"> $(function (){ var max_num=4; var time_stop=4250; var time_swap=1250; var num =0; var chosen_circle_color="#0aa1ed"; var chosen_not_circle_color="#ffffff"; function every_thing(){$("#div_img").animate({left:-$(".every_img").eq(0).width()*num},time_swap); $(".every_circle").eq(num).css("background",chosen_circle_color) .siblings('li').css("background",chosen_not_circle_color);} function Right_move(){if(num>=max_num){num=0;}else{num++;}every_thing();} function Left_move(){if(num===0){num=max_num;}else{num--;}every_thing();} $(".every_circle").eq(0).css("background",chosen_circle_color); $("#div_img").width($('.every_img').length*$('.every_img').eq(0).width()); var id =setInterval(Right_move,time_stop); $("#carousel_main").mouseover(function (){clearInterval(id)}); $("#carousel_main").mouseout(function (){id=setInterval(Right_move,time_stop);}); $(".left").click(function (){ $("#div_img").stop(); Left_move(); }); $(".right").click(function (){ $("#div_img").stop(); Right_move(); }); $(".every_circle").mouseover(function (){num =$(this).index(); $("#div_img").stop(); every_thing();}); }); function link(jinliweili_Url, quality_target){window.open(jinliweili_Url,quality_target);}</script>
            </div>
            <div class="cover__desc">
                <div class='avator_logo_link'><img alt="離.png" src="/img/avator.png"></div>
                <div class="desc-com"><div class="desc-button"><div class="desc-box">是</div><div class="desc-box">锦</div><div class="desc-box">鲤</div><div class="desc-box">未</div><div class="desc-box">离</div></div></div>
                <button class="btn-cssbuttons">
                    <span class="btn-cssbuttons-span">
                        <svg t="1662258197467" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31880" width="18" height="18"><path d="M512 164.7c12.9 0 25.9 0.7 39.1 2.1 163.3 17.9 294.5 153.8 307 317.6 5.4 71.2-10.4 138-42.2 195.2-15.8 28.4-13.8 63.3 2.4 91.4l27.5 47.5c10.4 18-2.6 40.4-23.3 40.4h-286l0.7-1c-8.4 0.7-16.8 1-25.1 1-23.3 0-46.5-2.6-69.8-7.6C300.1 820.5 187.4 704 168 559.9c-28.5-213 136.5-395.1 344-395.2m0-100.5c-129.1 0-251.9 55.8-337 153-85 97.2-123.8 226.9-106.5 356 24.8 184.7 166.4 336 352.4 376.4 30.3 6.6 61 9.9 91.2 9.9 5.5 0 11-0.1 16.4-0.3 2.7 0.2 5.3 0.3 8 0.3h286c45.4 0 87.7-24.4 110.4-63.8 22.7-39.3 22.7-88.2-0.1-127.5L906.7 723c40.4-75 58.2-160 51.6-246.3C942.3 266.1 771.9 89.9 562 67c-16.6-1.9-33.4-2.8-50-2.8z" p-id="31881" fill="#999"></path><path d="M331.4 511.9m-50.3 0a50.3 50.3 0 1 0 100.6 0 50.3 50.3 0 1 0-100.6 0Z" p-id="31882" fill="#999"></path><path d="M512 511.9m-50.3 0a50.3 50.3 0 1 0 100.6 0 50.3 50.3 0 1 0-100.6 0Z" p-id="31883" fill="#999"></path><path d="M692.6 511.9m-50.3 0a50.3 50.3 0 1 0 100.6 0 50.3 50.3 0 1 0-100.6 0Z" p-id="31884" fill="#999"></path></svg>
                    </span>
                    <span>　　　　</span>
                    <ul>
                        <li id="WeChat"><a href="/img/cover/btn-cssbuttons-span/WeChat.jpg" title="WeChat" target="_blank"><svg height="18" width="18" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 1024 1024" class="icon"> <path d="M676.325 381.17h5.098c-25.972-114.081-144.421-200.37-286.538-200.37-161.17 0-291.877 110.804-291.877 247.581 0 79.493 44.176 150.247 112.867 195.516l-28.884 85.925 101.702-50.486-1.942-0.971c33.497 11.286 69.905 17.598 108.134 17.598 8.617 0 17.234-0.364 25.729-0.971-7.646-21.117-11.893-43.691-11.893-66.992 0-125.125 119.786-226.828 267.605-226.828zM489.184 319.276c21.482 0 38.836 15.292 38.836 34.102 0 14.563-10.437 27.065-25.122 31.918-4.247 1.456-8.86 2.185-13.714 2.185-21.482 0-38.836-15.292-38.836-34.102s17.476-34.102 38.836-34.102zM315.634 385.419c-4.247 1.456-8.86 2.185-13.714 2.185-21.482 0-38.836-15.292-38.836-34.102s17.355-34.102 38.836-34.102 38.836 15.292 38.836 34.102c0 14.563-10.437 27.065-25.122 31.918z" fill="#999999" p-id="3256"></path> <path d="M922.45 608.241c0-115.295-110.197-208.865-246.124-208.865s-246.124 93.45-246.124 208.865 110.197 208.865 246.124 208.865c30.462 0 59.711-4.733 86.774-13.349l78.279 42.962-21.117-69.177c61.895-37.866 102.188-99.638 102.188-169.301zM610.546 570.254c-3.519 1.214-7.404 1.821-11.408 1.821-17.962 0-32.526-12.865-32.526-28.641s14.563-28.641 32.526-28.641 32.526 12.865 32.526 28.641c0 12.257-8.738 22.695-21.117 26.821zM769.897 570.254c-3.519 1.214-7.404 1.821-11.408 1.821-17.962 0-32.526-12.865-32.526-28.641s14.563-28.641 32.526-28.641 32.526 12.865 32.526 28.641c0 12.257-8.738 22.695-21.117 26.821z" fill="#999999" p-id="3257"></path> </svg></a></li>
                        <li id="Telegram"><a href="/img/cover/btn-cssbuttons-span/Telegram.jpg" title="Telegram" target="_blank"><svg height="18" width="18" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 1024 1024" class="icon"> <path d="M417.28 795.733333l11.946667-180.48 327.68-295.253333c14.506667-13.226667-2.986667-19.626667-22.186667-8.106667L330.24 567.466667 155.306667 512c-37.546667-10.666667-37.973333-36.693333 8.533333-55.466667l681.386667-262.826666c31.146667-14.08 61.013333 7.68 49.066666 55.466666l-116.053333 546.56c-8.106667 38.826667-31.573333 48.213333-64 30.293334L537.6 695.466667l-84.906667 82.346666c-9.813333 9.813333-17.92 17.92-35.413333 17.92z" fill="#999999"></path></svg></a></li>
                        <li id="E-mail"><a href="/img/cover/btn-cssbuttons-span/G-mail.jpg" title="G-mail" target="_blank"><svg height="18" width="18" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 1024 1024" class="icon"> <path d="M134 297.4c22 11.6 327.6 178.2 339 184.2 11.4 6 23 8.8 41 8.8 18 0 29.6-2.8 41-8.8 11.4-6 317-172.6 339-184.2 8.2-4.2 22-11.8 25-20.4 5.2-15.2-0.4-21-22.6-21L514 256 131.6 256c-22.2 0-27.8 6-22.6 21C112 285.8 125.8 293.2 134 297.4z" p-id="5247" fill="#999"></path> <path d="M911.4 306.4c-16.4 8.4-163.6 113.2-261 176.2l164.4 185c4 4 5.8 8.8 3.6 11.2-2.4 2.2-7.6 1-11.8-2.8l-197.2-166.4c-29.8 19.2-50.8 32.4-54.4 34.4-15.4 7.8-26.2 8.8-41 8.8-14.8 0-25.6-1-41-8.8-3.8-2-24.6-15.2-54.4-34.4l-197.2 166.4c-4 4-9.4 5.2-11.8 2.8-2.4-2.2-0.6-7.2 3.4-11.2l164.2-185c-97.4-63-246.2-167.8-262.6-176.2-17.6-9-18.6 1.6-18.6 9.8 0 8.2 0 410 0 410 0 18.6 27.4 41.8 47 41.8L514 768l371 0c19.6 0 43-23.4 43-41.8 0 0 0-402 0-410C928 307.8 929.2 297.4 911.4 306.4z" p-id="5248" fill="#999"></path></svg></a></li>
                        <li id="Github">
                            <a href="https://github.com/koinl" title="Github" target="_blank">
                                <svg height="13" width="18" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 1024 1024" class="icon">
                                    <path d="M855.557 216.855c35.621-66.153-5.089-152.661-5.089-152.661-91.597 0-157.75 61.064-157.75 61.064-35.621-20.355-152.661-20.355-152.661-20.355s-117.04 0-152.661 20.355c0 0-66.153-61.064-157.75-61.064 0 0-40.71 86.508-5.089 152.661 0 0-81.419 76.331-50.887 239.169 28.691 153.018 162.838 193.371 249.346 193.371 0 0-35.621 30.532-30.532 81.419 0 0-50.887 30.532-101.774 10.177s-76.331-71.242-76.331-71.242-50.887-66.153-101.774-40.71c0 0-15.266 15.266 40.71 40.71 0 0 40.71 61.064 55.976 96.685 15.266 35.621 96.685 66.153 178.105 45.798v117.04s0 10.177-20.355 15.266-20.355 15.266-10.177 15.266H723.25c10.177 0 10.177-10.177-10.177-15.266-20.355-5.089-20.355-15.266-20.355-15.266v-117.04s0.447-61.03 0-81.419c-1.119-51.128-35.621-81.419-35.621-81.419 86.508 0 220.655-40.353 249.346-193.371 30.533-162.837-50.886-239.168-50.886-239.168z" p-id="3872" fill="#999999"></path>
                                </svg>
                            </a>
                        </li>
                    </ul>
                </button>
            </div>
            <div class="cover__intro">
                <details>
                    <summary>
                        <a href="/page_home/" target="_self"><button>主页</button></a> 
                        <a href="/" target="_self"><button>首页</button></a> 
                        <a href="/page_search/" target="_self"><button>搜索页</button></a> 
                        <a href="/page_friends/" target="_self"><button>友链页</button></a> 
                        <p title="打开分类">分类流</p>
                    </summary>
                    <div class="fold-content">
                        <div class="dropdown-menus" id="dropdown-menus"> • 分类 • 
                            <a href="/categories/Python/" class="dropdown-menu button">Python</a> • 
                            <a href="/categories/Linux/" class="dropdown-menu button">Linux</a> • 
                            <a href="/categories/Data-Structure-and-Algorithm/" class="dropdown-menu button">数据结构与算法</a> • 
                            <a href="/categories/SqlServer/" class="dropdown-menu button">SQL Server</a> • 
                            <a href="/categories/MATLAB/" class="dropdown-menu button">MATLAB</a> • 
                            <a href="/categories/java/" class="dropdown-menu button">Java</a> • 
                        </div>
                    </div>
                </details>
            </div>
        </div>
<!-- 我们是__应用部分！我是__文章部分！ -->
        <main class="main POST">
            <!-- 一、上·位置 --><style>.cover {clip-path: circle(0); max-width: 1px; max-height: 1px; min-height: 0; margin: 0; line-height: 0;}</style>
            <div class="post-title">
                <!-- 1. 文章标题 -->
                <h1 class="post-title__text">『SQL Server』第六章  数据库及其对象.md</h1>
                <!-- 2. 时间与类别 -->
                <div class="post-title__meta">
                    <p>创建于  2022-07-17 09:14:49 星期日 · </p>
                    <a href="/categories/SqlServer/" class="button">SqlServer</a>
                </div>
            </div>
            <!-- 二、右·位置 -->
            <aside class="post-side">
                <!-- 1. 文章目录 -->
                <div class="post-side__toc">
                    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%B6%E6%9E%84-%E6%9E%84%E6%9E%B6-%E6%A8%A1%E5%BC%8F"><span class="toc-text">架构(构架)(模式)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E5%8C%BA%E8%A1%A8"><span class="toc-text">分区表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95"><span class="toc-text">索引</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE"><span class="toc-text">视图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-SQL-Server%E4%BA%94%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">1. SQL Server五个数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E7%BB%84%E6%88%90"><span class="toc-text">2 组成</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%96%87%E4%BB%B6%E7%BB%84"><span class="toc-text">3 数据库文件组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%96%87%E4%BB%B6%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="toc-text">4 数据库文件的属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-T-SQL%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">5 T-SQL创建数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">6 修改数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E5%88%86%E7%A6%BB%E5%92%8C%E9%99%84%E5%8A%A0%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">7 分离和附加数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%A6%82%E5%BF%B5"><span class="toc-text">1 概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%AE%9A%E4%B9%89%E6%9E%B6%E6%9E%84"><span class="toc-text">2 定义架构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%88%A0%E9%99%A4%E6%9E%B6%E6%9E%84"><span class="toc-text">3 删除架构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%A6%82%E5%BF%B5-1"><span class="toc-text">1 概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%88%9B%E5%BB%BA%E5%88%86%E5%8C%BA%E8%A1%A8"><span class="toc-text">2 创建分区表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95"><span class="toc-text">1 创建索引</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%88%A0%E9%99%A4%E7%B4%A2%E5%BC%95"><span class="toc-text">2 删除索引</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-text">1 基本概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E9%80%82%E5%90%88%E5%BB%BA%E7%AB%8B%E7%B4%A2%E5%BC%95%E8%A7%86%E5%9B%BE%E7%9A%84%E5%9C%BA%E5%90%88"><span class="toc-text">2 适合建立索引视图的场合</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%AE%9A%E4%B9%89%E7%B4%A2%E5%BC%95%E8%A7%86%E5%9B%BE"><span class="toc-text">3 定义索引视图</span></a></li></ol>
                </div>
            </aside>
            <!-- 2. 小界面目录图标 -->
            <a class="btn-toc button" id="btn-toc" tabindex="0">
                <svg t="1662257293901" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="29423" width="55" height="55">
                    <path d="M480 64C214.848 64 0 278.848 0 544S214.848 1024 480 1024 960 809.152 960 544 745.152 64 480 64zM288 768C270.336 768 256 753.664 256 736S270.336 704 288 704 320 718.336 320 736 305.664 768 288 768zM288 576C270.336 576 256 561.664 256 544S270.336 512 288 512 320 526.336 320 544 305.664 576 288 576zM288 384C270.336 384 256 369.664 256 352S270.336 320 288 320 320 334.336 320 352 305.664 384 288 384zM672 768l-256 0C398.336 768 384 753.664 384 736S398.336 704 416 704l256 0c17.664 0 32 14.336 32 32S689.664 768 672 768zM672 576l-256 0C398.336 576 384 561.664 384 544S398.336 512 416 512l256 0C689.664 512 704 526.336 704 544S689.664 576 672 576zM672 384l-256 0C398.336 384 384 369.664 384 352S398.336 320 416 320l256 0C689.664 320 704 334.336 704 352S689.664 384 672 384z" p-id="43077" fill="#bfbfbf"></path>
            </svg>
            </a>
            <!-- 3. 小界面目录流 -->
            <div class="toc-menus" id="toc-menus">
                <div class="toc-title">
                    文章目录
                </div>
                <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%B6%E6%9E%84-%E6%9E%84%E6%9E%B6-%E6%A8%A1%E5%BC%8F"><span class="toc-text">架构(构架)(模式)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E5%8C%BA%E8%A1%A8"><span class="toc-text">分区表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95"><span class="toc-text">索引</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE"><span class="toc-text">视图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-SQL-Server%E4%BA%94%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">1. SQL Server五个数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E7%BB%84%E6%88%90"><span class="toc-text">2 组成</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%96%87%E4%BB%B6%E7%BB%84"><span class="toc-text">3 数据库文件组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%96%87%E4%BB%B6%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="toc-text">4 数据库文件的属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-T-SQL%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">5 T-SQL创建数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">6 修改数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E5%88%86%E7%A6%BB%E5%92%8C%E9%99%84%E5%8A%A0%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">7 分离和附加数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%A6%82%E5%BF%B5"><span class="toc-text">1 概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%AE%9A%E4%B9%89%E6%9E%B6%E6%9E%84"><span class="toc-text">2 定义架构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%88%A0%E9%99%A4%E6%9E%B6%E6%9E%84"><span class="toc-text">3 删除架构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%A6%82%E5%BF%B5-1"><span class="toc-text">1 概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%88%9B%E5%BB%BA%E5%88%86%E5%8C%BA%E8%A1%A8"><span class="toc-text">2 创建分区表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95"><span class="toc-text">1 创建索引</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%88%A0%E9%99%A4%E7%B4%A2%E5%BC%95"><span class="toc-text">2 删除索引</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-text">1 基本概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E9%80%82%E5%90%88%E5%BB%BA%E7%AB%8B%E7%B4%A2%E5%BC%95%E8%A7%86%E5%9B%BE%E7%9A%84%E5%9C%BA%E5%90%88"><span class="toc-text">2 适合建立索引视图的场合</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%AE%9A%E4%B9%89%E7%B4%A2%E5%BC%95%E8%A7%86%E5%9B%BE"><span class="toc-text">3 定义索引视图</span></a></li></ol>
            </div>
            <!-- 三、中·正文 -->
            <article class="post post__with-toc content-card">
                <!-- 1. 正文缩略图 -->
                <div class="post__header">
                </div>
                <!-- 2. 正文目录 -->
                <div class="wenzhangmulu">文章目录</div>
                <div class="post-side__toc" style="padding-left: 35px;font-style: oblique;line-height: 2.5;">
                    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%B6%E6%9E%84-%E6%9E%84%E6%9E%B6-%E6%A8%A1%E5%BC%8F"><span class="toc-text">架构(构架)(模式)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E5%8C%BA%E8%A1%A8"><span class="toc-text">分区表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95"><span class="toc-text">索引</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE"><span class="toc-text">视图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-SQL-Server%E4%BA%94%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">1. SQL Server五个数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E7%BB%84%E6%88%90"><span class="toc-text">2 组成</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%96%87%E4%BB%B6%E7%BB%84"><span class="toc-text">3 数据库文件组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%96%87%E4%BB%B6%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="toc-text">4 数据库文件的属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-T-SQL%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">5 T-SQL创建数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">6 修改数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E5%88%86%E7%A6%BB%E5%92%8C%E9%99%84%E5%8A%A0%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">7 分离和附加数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%A6%82%E5%BF%B5"><span class="toc-text">1 概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%AE%9A%E4%B9%89%E6%9E%B6%E6%9E%84"><span class="toc-text">2 定义架构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%88%A0%E9%99%A4%E6%9E%B6%E6%9E%84"><span class="toc-text">3 删除架构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%A6%82%E5%BF%B5-1"><span class="toc-text">1 概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%88%9B%E5%BB%BA%E5%88%86%E5%8C%BA%E8%A1%A8"><span class="toc-text">2 创建分区表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95"><span class="toc-text">1 创建索引</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%88%A0%E9%99%A4%E7%B4%A2%E5%BC%95"><span class="toc-text">2 删除索引</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-text">1 基本概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E9%80%82%E5%90%88%E5%BB%BA%E7%AB%8B%E7%B4%A2%E5%BC%95%E8%A7%86%E5%9B%BE%E7%9A%84%E5%9C%BA%E5%90%88"><span class="toc-text">2 适合建立索引视图的场合</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%AE%9A%E4%B9%89%E7%B4%A2%E5%BC%95%E8%A7%86%E5%9B%BE"><span class="toc-text">3 定义索引视图</span></a></li></ol>
                </div>
                <!-- 3. 正文文章 -->
                <div class="post__content">
                    <h1 id="第六章-数据库及其对象"><a href="#第六章-数据库及其对象" class="headerlink" title="第六章  数据库及其对象"></a>第六章  数据库及其对象</h1><h2 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h2><ol>
<li>分类:系统数据库:master:数据库系统信息　　 　　　   　　<br>msdb:数据库作业信息　　 　　　   　　<br>model:数据库模板信息　　　 　　 　　<br>resource:只读数据库且不可见　　 　　　   　　<br>tempdb:临时数据库<br>　    　用户数据库:数据文件:主要数据文件:.mdf<br> 　　　     　　　  　　  　　　次要数据文件:.ndf　 　　　 　　　日志文件:事务日志文件:.ldf</li>
<li>创建:<code>create database</code> db_name　　<code>on　primary</code>　　<code>(</code>&lt;filespec&gt;<code>)</code>　　<code>log on</code>　　<code>(</code>&lt;filespec&gt;<code>)</code></li>
</ol>
<p><em>对&lt;filespec&gt;的解释:<code>name=</code>db_name_data<code>,</code>　　　　　　 　   　<code>filename=&#39;</code>C:\db_name_data.mdf<code>&#39;,</code>　　　　　 　 　　<code>size=</code>3MB<code>,</code>　　　　　 　 　　<code>maxsize=</code>{50MB|unlimited}<code>,</code>　　　　　 　 　　<code>filegrowth=</code>{1MB|10%}</em><br>要插入的表已存在: insert into t2 select * from t1<br>3. 修改:<code>alter database</code> db_name<br>　　 <code>add file</code>　　 <code>add log file</code><br>　　 <code>modify name=</code>　　 <code>modify file</code><br>　　 <code>remove file</code><br>4. 分离:<code>exec sp_detach_db &#39;</code>db_name<code>&#39;,&#39;true&#39;</code><br>5. 附加:<br>6. 自增标识列:identity</p>
<h2 id="架构-构架-模式"><a href="#架构-构架-模式" class="headerlink" title="架构(构架)(模式)"></a>架构(构架)(模式)</h2><ol>
<li>创建:    <code>create schema</code> sc_name</li>
<li>可以共享<h2 id="分区表"><a href="#分区表" class="headerlink" title="分区表"></a>分区表</h2></li>
<li>创建:例:在分区列<font color="blue">colA_name</font>(<font color="green">int</font>)上创建左侧分区函数.　　　(1)创建分区函数:<code>create partition function</code> pf_name<code>(</code><font color="green">int</font><code>)</code><br>　　　 　　 　　　　　<code>as range</code> left <code>for values(</code>1,10,100<code>）</code>　　　(2)创建分区方案:<code>create partition scheme</code> ps_name　　　　　 　　 　　　<code>as partition</code> pf_name　　　　　　　 　 　　<code>to (</code>test1,test2,test3,test4<code>)</code>　　　(3)使用分区建表:<code>create table</code> tb_name　　　　　　　 　  　　<code>(</code>col_name type… 　　　　　　 　　 　　<code>on</code> ps_name<code>(</code><font color="blue">colA_name</font><code>)</code></li>
</ol>
<h2 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h2><ol>
<li>创建:<code>create [unique | [non]clustered] index</code> idx_name　 　<code>on</code> tb_name<code>(</code>col_name<code>)</code>　 　<code>[with fillfactor=</code>x<code>]</code></li>
<li>重复小列在前<br>主索引为主键索引,辅索引提高查询效率,位图索引用于范围查询，哈希索引用于精确查询<h2 id="视图"><a href="#视图" class="headerlink" title="视图"></a>视图</h2></li>
<li>索引视图来源必须是基本表,不适合建立在大量更新写操作高基数度的数据聚合(group by)</li>
</ol>
<p>讲一起使用的公共列值的多个表的数据行存储在一起的方法称为聚集</p>
<p>设商品表有下列查询:<br>SELECT 商品号,商品名,单价<br>FROM 商品表 WHERE 类别 IN(‘食品’,’家电’)<br>ORDER BY 商品号<br>现建立索引:<br>CREATE INDEX idx1 ON 商品表(商品号)    # create unique index idx_name on tb_name(列名)<br>INCLUDE(商品名,单价)    # include(属性)<br>WHERE 类别&#x3D;’食品’ OR 类别&#x3D;’单价’    # where 约束条件</p>
<p>将 t1 表的 c1 列 (int 类型)定义为标识列,初量和增量均为1<br>CREATE TABLE t1(c1 INT IDENTITY(1,1),…)</p>
<p>直接增加已有文件的大小是扩大数据库空间的一种方法<br>ALTER DATABASE db1 MODIFY FILE(NAME&#x3D;db_datafile,SIZE&#x3D;200MB)</p>
<p>数据库的分类分为系统数据库和用户数据库。<br>系统数据库分为master，msdb，tempdb，model，resource，其分别保存系统信息，作业信息，临时信息，模板，只读，无法看到<br>将数据库以文件形式保存。分为数据文件和日志文件。<br>数据文件分为主要数据文件（mdf只要一个，≥3）和次要数据文件（ndf，n个）<br>日志文件（ldf，≥1）<br>数据库存储空间的分配：<br>文件组：主文件组和用户文件组</p>
<h1 id="一、创建及维护数据库"><a href="#一、创建及维护数据库" class="headerlink" title="一、创建及维护数据库"></a>一、创建及维护数据库</h1><h2 id="1-SQL-Server五个数据库"><a href="#1-SQL-Server五个数据库" class="headerlink" title="1. SQL Server五个数据库"></a>1. SQL Server五个数据库</h2><pre><code>master:记录所有系统信息，包括实例范围的元数据、端点、连接服务器和系统配置设置。还记录了所有其他数据库的存在、数据库文件的位置以及SQLServer的初始化信息
model：用作实例上创建的所有数据库的模板。当用户创建一个数据库时，系统将自动将Model数据库中的全部内容复制到新建数据库中
temodb:临时数据库，用于保存临时对象或中间结果集，并未数据的排序等操作提供一个临时工作空间
msdb:供SQL Server 代理服务调度博阿金和作业以及记录操作员时使用，保存关于调度报警、作业、操作员等信息。作业是在SQLserver中定义的自动执行的一系列操作的几何，作业的执行不需要人工干预
Resource：是一个只读数据库，包含了所有系统对象，SQLServer系统对象在物理上保存在Resource数据库中，但在逻辑上却显示在每个数据库的sys架构中
</code></pre>
<h2 id="2-组成"><a href="#2-组成" class="headerlink" title="2 组成"></a>2 组成</h2><p>（1）数据文件</p>
<p>主要数据文件<br>拓展名.mdf,要求不能小于3M，大于model数据库的大小<br>次要数据文件<br>拓展名.ndf<br>（2）日志文件<br>拓展名.ldf<br>（3）数据库存储空间的分配<br>在SQLServer中，数据的存储分配单位是数据页，一页是一块8KB&#x3D;（8060B+132B，8060是存放数据，132存放系统信息）的连续磁盘空间</p>
<h2 id="3-数据库文件组"><a href="#3-数据库文件组" class="headerlink" title="3 数据库文件组"></a>3 数据库文件组</h2><p>（1）主文件组<br>（2）用户定义文件组<br>通过create DataBase 或 Alter DataBase 语句中使用Filegroup 关键字指定的任何文件组</p>
<h2 id="4-数据库文件的属性"><a href="#4-数据库文件的属性" class="headerlink" title="4 数据库文件的属性"></a>4 数据库文件的属性</h2><pre><code>文件名及其位置
    一般情况下，如果有多个数据文件的话，为了获得更好的性能，建议将文件分散存储在多个物理磁盘上
初始大小
    在指定主要数据文件的初始大小时，其大小不能小于model数据库主要文件的大小
增长方式
最大大小
    是指文件增长的最大空间限制
</code></pre>
<h2 id="5-T-SQL创建数据库"><a href="#5-T-SQL创建数据库" class="headerlink" title="5 T-SQL创建数据库"></a>5 T-SQL创建数据库</h2><p>Create Database database_name<br>ON Primary%指定主文件组<br>(Name &#x3D;主文件名<br>FileName &#x3D;操作系统物理文件名<br>Size &#x3D; 文件的初始大小<br>Maxsize &#x3D; 文件最大值<br>FileGrowth &#x3D;指定文件的自动增量<br>)<br>LOG %指定日志文件<br>(Name &#x3D;<br>FileName &#x3D;<br>Size &#x3D;<br>Maxsize &#x3D;<br>FileGrowth &#x3D;<br>)<br>FileGroup<br>(Name &#x3D;<br>FileName &#x3D;<br>Size &#x3D;<br>Maxsize &#x3D;<br>FileGrowth &#x3D;<br>)</p>
<h2 id="6-修改数据库"><a href="#6-修改数据库" class="headerlink" title="6 修改数据库"></a>6 修改数据库</h2><p>（1）扩大数据库空间</p>
<p>添加数据文件<br>Alter DataBase database_name<br>ADD File(Name &#x3D;<br>FileName &#x3D;<br>Size &#x3D;<br>Maxsize &#x3D;<br>FileGrowth &#x3D;)<br>添加日志文件<br>Alter DataBase database_name<br>ADD LOG File(Name &#x3D;<br>FileName &#x3D;<br>Size &#x3D;<br>Maxsize &#x3D;<br>FileGrowth &#x3D;)<br>指定要修改的文件<br>Alter DataBase database_name<br>Modify File(Name &#x3D;<br>FileName &#x3D;<br>Size &#x3D;<br>Maxsize &#x3D;<br>FileGrowth &#x3D;)<br>（2） 收缩数据库空间</p>
<p>收缩整个数据库大小<br>DBCC ShrinkDatabase<br>(DataBase_name,20)20表示20%<br>收缩指定文件大小<br>DBCC ShrinkFIle<br>(DataFIle_name,4)4表示4M<br>（3）添加和删除数据库文件</p>
<p>添加文件(和创建数据库相同)<br>ALter DataBase<br>删除文件<br>Alter DataBase database_name<br>Remove File datafile_name</p>
<h2 id="7-分离和附加数据库"><a href="#7-分离和附加数据库" class="headerlink" title="7 分离和附加数据库"></a>7 分离和附加数据库</h2><p>1）分离数据库</p>
<p>Exec sp_detach_db ‘Database_name’,’True’<br>True表示跳过更新统计信息<br>（2）附加数据库<br>Create DataBase database_name<br>ON(FIlename&#x3D;’’<br>For Attach)</p>
<h1 id="二、架构"><a href="#二、架构" class="headerlink" title="二、架构"></a>二、架构</h1><h2 id="1-概念"><a href="#1-概念" class="headerlink" title="1 概念"></a>1 概念</h2><p>是数据库下的一个逻辑命名空间，可以存放表、视图等数据库对象，是一个数据库对象的容器</p>
<h2 id="2-定义架构"><a href="#2-定义架构" class="headerlink" title="2 定义架构"></a>2 定义架构</h2><p>Create Schema schema_name Authorization user_name</p>
<h2 id="3-删除架构"><a href="#3-删除架构" class="headerlink" title="3 删除架构"></a>3 删除架构</h2><p>Drop Schema schema_name Cascade|Restrict<br>Cascade：删除架构的同时将架构中的所有架构对象一起全部删除<br>Restrict：如果被删除的架构中包含架构对象，则拒绝删除</p>
<h1 id="三、分区表"><a href="#三、分区表" class="headerlink" title="三、分区表"></a>三、分区表</h1><h2 id="1-概念-1"><a href="#1-概念-1" class="headerlink" title="1 概念"></a>1 概念</h2><p>是将表中的数据按水平方式划分成不同的子集，这些数据子集存储在数据库的一个或多个文件组中。使用分区可以快速且有效地管理和访问数据子集，从而使大型表或索引更易于管理</p>
<h2 id="2-创建分区表"><a href="#2-创建分区表" class="headerlink" title="2 创建分区表"></a>2 创建分区表</h2><p>（1）条件</p>
<p>如果表中有大量的数据都是经常使用的数据，而且她们的操作方式基本一样的，则最好不要使用分区表<br>如果数据量大，而且数据是分段的，并且对不同段的数据使用的操作不同，则适用于使用分区表<br>（2）步骤<br>创建分区函数<br>Create Partition Function partition_function_name(input_type)<br>AS Range [ Left |Right] For Values(1,100,1000)<br>1<br>2<br>最后的数值表示分区指定边界值，表示四个分区</p>
<p>创建分区方案<br>Create Partition Schema partition_schema_name As Partition partition_function_name [All] To (test1fg,test2fg,test3fg,test4fg)<br>1<br>使用分区方案创建表<br>Create Partition Function myRangePF1(int)<br>AS Range Left For Values(1,100,1000)<br>Go<br>Create Partition Schema myRangePS1 As Partition myRangePF1 To (test1fg,test2fg,test3fg,test4fg)<br>GO<br>Create Table PartitionTable(<br>coll int,<br>col2 char(10))<br>ON myRangePS1(col1);</p>
<h1 id="四、索引"><a href="#四、索引" class="headerlink" title="四、索引"></a>四、索引</h1><h2 id="1-创建索引"><a href="#1-创建索引" class="headerlink" title="1 创建索引"></a>1 创建索引</h2><p>Create [Unique][Clustered |NonClustered ] INDEX index_name<br>ON<br>[Include ]指定要添加到非聚集索引叶级别的非键列<br>[Where]<br>[ON {partition_shema_name}指定分区方案{filegroup_name}]为指定文件组创建索引</p>
<p>举例<br>（1）创建非聚集索引，要求索引键值Cname升序，CardID降序排序</p>
<p>Create Index Comp_index ON Table_customer(Cname ASC,CardID DESC)<br>1<br>（2）创建分区索引，在TransHistory表和ReferOrderID列上为现有分区方案TransactionsPS1创建非聚集分区索引</p>
<p>Create NonClustered INDEX index_name<br>ON TransHistory(RefreOrderID)<br>ON TransactionsPS1(TransactionDate);</p>
<h2 id="2-删除索引"><a href="#2-删除索引" class="headerlink" title="2 删除索引"></a>2 删除索引</h2><p>Drop INDEX Index_name</p>
<h1 id="五、索引视图"><a href="#五、索引视图" class="headerlink" title="五、索引视图"></a>五、索引视图</h1><h2 id="1-基本概念"><a href="#1-基本概念" class="headerlink" title="1 基本概念"></a>1 基本概念</h2><p>标准视图也成虚拟表，因为这种视图所返回的结果集的格式与基本表基本相同，都是由列和行组成，而且在SQL语句中索引视图的方式也与索引基本表的方式相同。标准视图的结果集并不永久地存储在数据库中，每次通过标准视图查询数据时，数据库管理系统都会在内部将视图的定义替换为对基本表的查询语句，然后再对基本表进行查询</p>
<h2 id="2-适合建立索引视图的场合"><a href="#2-适合建立索引视图的场合" class="headerlink" title="2 适合建立索引视图的场合"></a>2 适合建立索引视图的场合</h2><pre><code>如果很少更新基础数据，则索引视图的效果最佳
如果经常更新基础数据，则维护索引视图的成本可能超过使用索引视图带来的性能收益
如果基础数据以批处理的形式定期更新，但是在更新之间主要作为只读数据进行处理，可考虑在更新前删除所有索引视图，然后再重建索引视图，这样做可以提高更新的性能
处理大量行的连接和聚合操作
许多查询经常执行的链接和聚合操作
</code></pre>
<h2 id="3-定义索引视图"><a href="#3-定义索引视图" class="headerlink" title="3 定义索引视图"></a>3 定义索引视图</h2><pre><code>基本要求
    定义索引视图时，视图不能引用任何其他视图，只能引用索引表
    视图引用的所有基本表必须与视图位于位于同一个数据库中，并且所有者也与视图相同
    必须使用SchemaBinding选项创建视图
    视图中的表达式引用的所有函数必须是确定的
    对视图创建的第一个索引必须是唯一聚集索引，之后再创建其他的非聚集索引
%定义视图
</code></pre>
<p>举例<br>首先创建一个视图，并未该视图创建一个唯一聚聚索引，然后是一个使用该索引视图查询语句</p>
<p>Create VIew Slaes,vOrders<br>With SchemaBinding<br>As<br>….<br>%定义索引视图<br>Go<br>Create Unique Clustered INDEX Idx_V1<br>ON Sales.vOrders (OrderDate,ProductID);<br>Go<br>…查询语句，不用From 索引视图</p>

                </div>
                <!-- 4. 正文更新时间 -->
                <div class="post-footer__meta">
                    <p>更新于  2022-07-18 15:16:34 星期一</p>
                </div>
            </article>



            <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.js"></script>
            <script type="text/javascript">$(".highlight").wrap("<div class='code-wrapper' style='position:relative'></div>");!function (e, t, a) {var initCopyCode = function () {var copyHtml = '';copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';copyHtml += '  <i class="fa fa-clipboard"></i><span>复制</span>';copyHtml += '</button>';$(".highlight .code").before(copyHtml);var clipboard = new ClipboardJS('.btn-copy', {target: function (trigger) {return trigger.nextElementSibling;}});clipboard.on('success', function (e) {e.trigger.innerHTML = "<i class='fa fa-clipboard'></i><span>复制成功</span>";setTimeout(function () {e.trigger.innerHTML = "<i class='fa fa-clipboard'></i><span>复制</span>"}, 1000);e.clearSelection();});clipboard.on('error', function (e) {e.trigger.innerHTML = "<i class='fa fa-clipboard'></i><span>复制失败</span>";setTimeout(function () {e.trigger.innerHTML = "<i class='fa fa-clipboard'></i><span>复制</span>"}, 1000);e.clearSelection();});};initCopyCode();}(window, document);</script>
        </main>
<!-- 我们是__主体部分！我是__尾部部分！ -->
        <footer class="footer">
            <a href="#" class="button" id="b2t" title="回到顶部">
                <svg t="1662256713839" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="3050" width="50" height="50">
                    <path d="M512 0C230.4 0 0 230.4 0 512s230.4 512 512 512 512-230.4 512-512S793.6 0 512 0zM697.6 582.4 627.2 582.4c-12.8 0-19.2 6.4-19.2 19.2l0 108.8c0 6.4-6.4 12.8-12.8 12.8L428.8 723.2c-6.4 0-12.8-6.4-12.8-12.8L416 595.2c0-6.4-6.4-19.2-19.2-19.2L326.4 576C320 582.4 320 576 320 576l179.2-172.8c6.4-6.4 12.8-6.4 19.2 0L704 576C704 576 704 582.4 697.6 582.4zM704 364.8 320 364.8c-19.2 0-32-12.8-32-32S300.8 300.8 320 300.8l384 0c19.2 0 32 12.8 32 32S723.2 364.8 704 364.8z"
                        p-id="3051" fill="#bfbfbf"></path>
                </svg>
            </a>
            <p class="footer-copyright">Copyright © 2022&nbsp;-&nbsp;2022 Koi_NL</p>
            <p class="poems_of_today"><span id="jinrishici-sentence">悟已往之不谏，知来者之可追。</span><script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script></p>
        </footer>
    </div>
</body>
</html>